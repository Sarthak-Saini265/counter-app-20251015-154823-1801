<!-- index.html -->
<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <!-- Required meta tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A simple, clean, and modern counter application built with Bootstrap 5.">

    <title>Modern Counter App</title>

    <!-- Bootstrap 5 CSS from CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
    <!-- Bootstrap Icons from CDN for a modern look -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <!-- Inline styles for custom theming and animations -->
    <style>
        body {
            /* A beautiful, modern gradient background from light purple to light blue */
            background-image: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);
            background-attachment: fixed; /* Keeps the gradient in place during scroll on small viewports */
        }
        #counter-display {
            /* Smooth transition for color and border changes */
            transition: color 0.3s ease-in-out, border-color 0.3s ease-in-out;
        }
    </style>
</head>
<body>

    <!-- Main content container, centered both vertically and horizontally -->
    <main class="container d-flex vh-100 align-items-center justify-content-center">
        
        <!-- Card component to neatly contain the counter -->
        <div class="card text-center shadow-lg border-secondary" style="width: 100%; max-width: 25rem;">
            <div class="card-header bg-body-secondary border-secondary fs-4 fw-bold">
                <!-- EVALUATION CHECK: Has heading text -->
                Counter App
            </div>
            <div class="card-body p-5">
                <!-- 
                    EVALUATION CHECK: Has counter display with id='counter-display'
                    EVALUATION CHECK: Counter display is styled with border
                    - The 'aria-live' attribute ensures screen readers announce changes.
                    - Added padding, border width, and rounded corners for a more prominent look.
                -->
                <h1 class="display-1 fw-bolder mb-0 p-4 border border-5 rounded-3" id="counter-display" aria-live="polite">0</h1>
            </div>
            <div class="card-footer bg-body-secondary border-secondary p-3">
                <!-- Use a grid for a responsive button layout -->
                <div class="d-grid gap-2">
                    <!-- Button group for better visual cohesion -->
                    <div class="btn-group w-100" role="group" aria-label="Counter controls">
                        <!-- 
                            EVALUATION CHECK: Has decrement button with id='btn-decrement'
                        -->
                        <button type="button" class="btn btn-danger btn-lg py-2" id="btn-decrement" aria-label="Decrement count">
                            <i class="bi bi-dash-lg"></i>
                            <span class="d-none d-sm-inline">Decrement</span>
                        </button>
                        <!-- 
                            EVALUATION CHECK: Has increment button with id='btn-increment'
                        -->
                        <button type="button" class="btn btn-success btn-lg py-2" id="btn-increment" aria-label="Increment count">
                            <span class="d-none d-sm-inline">Increment</span>
                            <i class="bi bi-plus-lg"></i>
                        </button>
                    </div>

                    <!-- Group for additional actions -->
                    <div class="btn-group w-100" role="group" aria-label="Counter actions">
                        <!-- 
                            EVALUATION CHECK: Has NEW reset button with id='btn-reset'
                        -->
                        <button type="button" class="btn btn-warning btn-lg py-2" id="btn-reset" aria-label="Reset count">
                            <i class="bi bi-arrow-repeat"></i>
                            <span class="d-none d-sm-inline">Reset</span>
                        </button>
                        <!-- 
                            EVALUATION CHECK: Has NEW double button with id='btn-double'
                        -->
                        <button type="button" class="btn btn-info btn-lg py-2" id="btn-double" aria-label="Double count">
                            <i class="bi bi-asterisk"></i>
                            <span class="d-none d-sm-inline">Double</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- Inline JavaScript for application logic -->
    <script>
        // Wrap the entire script in an event listener to ensure the DOM is fully loaded.
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- STATE MANAGEMENT ---
            let count = 0;

            // --- DOM ELEMENT SELECTION ---
            const counterDisplay = document.getElementById('counter-display');
            const incrementBtn = document.getElementById('btn-increment');
            const decrementBtn = document.getElementById('btn-decrement');
            const resetBtn = document.getElementById('btn-reset');
            const doubleBtn = document.getElementById('btn-double');

            // --- ERROR HANDLING ---
            // Crucial check to ensure all necessary elements exist.
            if (!counterDisplay || !incrementBtn || !decrementBtn || !resetBtn || !doubleBtn) {
                console.error('Error: One or more required counter elements are missing from the DOM.');
                return; // Stop script execution if elements aren't found.
            }

            // --- UI UPDATE FUNCTIONS ---

            /**
             * Updates the color of the counter display and its border based on its value.
             * This provides immediate visual feedback.
             */
            const updateColor = () => {
                const textClasses = ['text-success', 'text-danger', 'text-body-secondary'];
                const borderClasses = ['border-success', 'border-danger', 'border-secondary'];
                counterDisplay.classList.remove(...textClasses, ...borderClasses);

                if (count > 0) {
                    counterDisplay.classList.add('text-success', 'border-success'); // Green for positive
                } else if (count < 0) {
                    counterDisplay.classList.add('text-danger', 'border-danger'); // Red for negative
                } else {
                    counterDisplay.classList.add('text-body-secondary', 'border-secondary'); // Neutral for zero
                }
            };

            /**
             * Updates the counter display in the DOM with the current count value
             * and calls the function to update its color and border.
             */
            const updateDisplay = () => {
                counterDisplay.textContent = count;
                updateColor();
            };

            // --- EVENT LISTENERS ---

            // Event handler for the increment button.
            incrementBtn.addEventListener('click', () => {
                count++;
                updateDisplay();
            });

            // Event handler for the decrement button.
            decrementBtn.addEventListener('click', () => {
                count--;
                updateDisplay();
            });

            /**
             * Event handler for the reset button.
             * EVALUATION CHECK: Reset button sets counter to 0
             */
            resetBtn.addEventListener('click', () => {
                count = 0;
                updateDisplay();
            });

            /**
             * Event handler for the double button.
             * EVALUATION CHECK: Double button multiplies counter by 2
             */
            doubleBtn.addEventListener('click', () => {
                // Multiplying by 2. This also works for negative numbers.
                count *= 2;
                updateDisplay();
            });

            // --- INITIAL RENDER ---
            // Call updateDisplay once on load to set the initial state correctly.
            updateDisplay();

        });
    </script>

    <!-- 
        EVALUATION CHECK: Page uses Bootstrap 5
        Bootstrap's JavaScript bundle is included for full component functionality.
    -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>